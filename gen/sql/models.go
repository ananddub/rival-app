// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0

package schema

import (
	"database/sql/driver"
	"fmt"
	"net/netip"

	"github.com/jackc/pgx/v5/pgtype"
)

type UserRole string

const (
	UserRoleCustomer         UserRole = "customer"
	UserRoleMerchant         UserRole = "merchant"
	UserRoleAdmin            UserRole = "admin"
	UserRoleUSERROLECUSTOMER UserRole = "USER_ROLE_CUSTOMER"
	UserRoleUSERROLEMERCHANT UserRole = "USER_ROLE_MERCHANT"
	UserRoleUSERROLEADMIN    UserRole = "USER_ROLE_ADMIN"
)

func (e *UserRole) Scan(src interface{}) error {
	switch s := src.(type) {
	case []byte:
		*e = UserRole(s)
	case string:
		*e = UserRole(s)
	default:
		return fmt.Errorf("unsupported scan type for UserRole: %T", src)
	}
	return nil
}

type NullUserRole struct {
	UserRole UserRole `json:"user_role"`
	Valid    bool     `json:"valid"` // Valid is true if UserRole is not NULL
}

// Scan implements the Scanner interface.
func (ns *NullUserRole) Scan(value interface{}) error {
	if value == nil {
		ns.UserRole, ns.Valid = "", false
		return nil
	}
	ns.Valid = true
	return ns.UserRole.Scan(value)
}

// Value implements the driver Valuer interface.
func (ns NullUserRole) Value() (driver.Value, error) {
	if !ns.Valid {
		return nil, nil
	}
	return string(ns.UserRole), nil
}

type AuditLog struct {
	ID         int64            `json:"id"`
	ActorID    pgtype.Int8      `json:"actor_id"`
	ActorType  string           `json:"actor_type"`
	Action     string           `json:"action"`
	TargetType pgtype.Text      `json:"target_type"`
	TargetID   pgtype.Int8      `json:"target_id"`
	Metadata   []byte           `json:"metadata"`
	IpAddress  *netip.Addr      `json:"ip_address"`
	UserAgent  pgtype.Text      `json:"user_agent"`
	CreatedAt  pgtype.Timestamp `json:"created_at"`
}

type CoinPurchase struct {
	ID            int64            `json:"id"`
	UserID        pgtype.Int8      `json:"user_id"`
	Amount        pgtype.Numeric   `json:"amount"`
	CoinsReceived pgtype.Numeric   `json:"coins_received"`
	PaymentMethod pgtype.Text      `json:"payment_method"`
	PaymentID     pgtype.Text      `json:"payment_id"`
	Status        pgtype.Text      `json:"status"`
	CreatedAt     pgtype.Timestamp `json:"created_at"`
}

type JwtSession struct {
	ID               int64            `json:"id"`
	UserID           pgtype.Int8      `json:"user_id"`
	TokenHash        string           `json:"token_hash"`
	RefreshTokenHash pgtype.Text      `json:"refresh_token_hash"`
	ExpiresAt        pgtype.Timestamp `json:"expires_at"`
	IsRevoked        pgtype.Bool      `json:"is_revoked"`
	CreatedAt        pgtype.Timestamp `json:"created_at"`
}

type Merchant struct {
	ID                 int64            `json:"id"`
	Name               string           `json:"name"`
	Email              string           `json:"email"`
	PasswordHash       pgtype.Text      `json:"password_hash"`
	Phone              pgtype.Text      `json:"phone"`
	Category           pgtype.Text      `json:"category"`
	DiscountPercentage pgtype.Numeric   `json:"discount_percentage"`
	IsActive           pgtype.Bool      `json:"is_active"`
	CreatedAt          pgtype.Timestamp `json:"created_at"`
	UpdatedAt          pgtype.Timestamp `json:"updated_at"`
}

type MerchantAddress struct {
	ID         int64            `json:"id"`
	MerchantID pgtype.Int8      `json:"merchant_id"`
	Street     pgtype.Text      `json:"street"`
	City       pgtype.Text      `json:"city"`
	State      pgtype.Text      `json:"state"`
	PostalCode pgtype.Text      `json:"postal_code"`
	Country    pgtype.Text      `json:"country"`
	Latitude   pgtype.Numeric   `json:"latitude"`
	Longitude  pgtype.Numeric   `json:"longitude"`
	IsPrimary  pgtype.Bool      `json:"is_primary"`
	CreatedAt  pgtype.Timestamp `json:"created_at"`
	UpdatedAt  pgtype.Timestamp `json:"updated_at"`
}

type Offer struct {
	ID                 int64            `json:"id"`
	MerchantID         pgtype.Int8      `json:"merchant_id"`
	Title              string           `json:"title"`
	Description        pgtype.Text      `json:"description"`
	DiscountPercentage pgtype.Numeric   `json:"discount_percentage"`
	MinAmount          pgtype.Numeric   `json:"min_amount"`
	MaxDiscount        pgtype.Numeric   `json:"max_discount"`
	IsActive           pgtype.Bool      `json:"is_active"`
	ValidFrom          pgtype.Timestamp `json:"valid_from"`
	ValidUntil         pgtype.Timestamp `json:"valid_until"`
	CreatedAt          pgtype.Timestamp `json:"created_at"`
	UpdatedAt          pgtype.Timestamp `json:"updated_at"`
}

type Order struct {
	ID             int64            `json:"id"`
	MerchantID     pgtype.Int8      `json:"merchant_id"`
	UserID         pgtype.Int8      `json:"user_id"`
	OfferID        pgtype.Int8      `json:"offer_id"`
	OrderNumber    string           `json:"order_number"`
	Items          []byte           `json:"items"`
	Subtotal       pgtype.Numeric   `json:"subtotal"`
	DiscountAmount pgtype.Numeric   `json:"discount_amount"`
	TotalAmount    pgtype.Numeric   `json:"total_amount"`
	CoinsUsed      pgtype.Numeric   `json:"coins_used"`
	Status         pgtype.Text      `json:"status"`
	Notes          pgtype.Text      `json:"notes"`
	CreatedAt      pgtype.Timestamp `json:"created_at"`
	UpdatedAt      pgtype.Timestamp `json:"updated_at"`
}

type ReferralReward struct {
	ID           int64            `json:"id"`
	ReferrerID   pgtype.Int8      `json:"referrer_id"`
	ReferredID   pgtype.Int8      `json:"referred_id"`
	RewardAmount pgtype.Numeric   `json:"reward_amount"`
	RewardType   pgtype.Text      `json:"reward_type"`
	Status       pgtype.Text      `json:"status"`
	CreditedAt   pgtype.Timestamp `json:"credited_at"`
	CreatedAt    pgtype.Timestamp `json:"created_at"`
}

type Settlement struct {
	ID                  int64            `json:"id"`
	MerchantID          pgtype.Int8      `json:"merchant_id"`
	PeriodStart         pgtype.Date      `json:"period_start"`
	PeriodEnd           pgtype.Date      `json:"period_end"`
	TotalTransactions   pgtype.Int4      `json:"total_transactions"`
	TotalDiscountAmount pgtype.Numeric   `json:"total_discount_amount"`
	SettlementAmount    pgtype.Numeric   `json:"settlement_amount"`
	Status              pgtype.Text      `json:"status"`
	PaidAt              pgtype.Timestamp `json:"paid_at"`
	CreatedAt           pgtype.Timestamp `json:"created_at"`
}

type Transaction struct {
	ID              int64            `json:"id"`
	UserID          pgtype.Int8      `json:"user_id"`
	MerchantID      pgtype.Int8      `json:"merchant_id"`
	CoinsSpent      pgtype.Numeric   `json:"coins_spent"`
	OriginalAmount  pgtype.Numeric   `json:"original_amount"`
	DiscountAmount  pgtype.Numeric   `json:"discount_amount"`
	FinalAmount     pgtype.Numeric   `json:"final_amount"`
	TransactionType pgtype.Text      `json:"transaction_type"`
	Status          pgtype.Text      `json:"status"`
	CreatedAt       pgtype.Timestamp `json:"created_at"`
}

type User struct {
	ID           int64            `json:"id"`
	Email        string           `json:"email"`
	PasswordHash pgtype.Text      `json:"password_hash"`
	Phone        pgtype.Text      `json:"phone"`
	Name         string           `json:"name"`
	ProfilePic   pgtype.Text      `json:"profile_pic"`
	FirebaseUid  pgtype.Text      `json:"firebase_uid"`
	CoinBalance  pgtype.Numeric   `json:"coin_balance"`
	Role         NullUserRole     `json:"role"`
	ReferralCode pgtype.Text      `json:"referral_code"`
	ReferredBy   pgtype.Int8      `json:"referred_by"`
	CreatedAt    pgtype.Timestamp `json:"created_at"`
	UpdatedAt    pgtype.Timestamp `json:"updated_at"`
}
